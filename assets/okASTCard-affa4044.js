import{d as N1,C as e1,A as _1,T as I1,D as w1,o as M,c as x,w as p,a as s,u,b as t1,K as a1,J as o1,h as A1,H as x1,I as b,g as N,t as l1,i as k,W as c1,X as E1,a4 as R1,ak as V1,N as B1,aA as k1,az as O1,O as P1,M as L1,al as U1,ag as H1,P as G1,ah as $1,aB as F1,a7 as J1,ae as W1}from"./vendor-5d3cd767.js";import{a as E,c as n1}from"./overlay_plugin_api-409cb9ea.js";import{U as G}from"./util-4b7cb3a6.js";import{b as z1}from"./xivapi-7138c80f.js";const q1=["src","alt"],K1=N("p",null,[b(" 依赖"),N("a",{href:"https://github.com/Natsukage/PostNamazu",target:"_blank"},"鲶鱼精邮差")],-1),Q1=N("p",null," 修改好设置之后，在ACT取消勾选“显示悬浮窗”以后台运行，如果需要修改设置重新勾选以显示本页面。 ",-1),X1=N("p",null," 常见问题：我怎么改不了小队排序：先切到act，再点击悬浮窗才可以正确获得焦点。同时你只能编辑输入规则内的文字。 ",-1),R="战骑枪暗白占贤学僧龙忍侍镰诗机舞黑召赤青",o4=N1({__name:"okASTCard",setup(Y1){const $=G.getBattleJobs().filter(()=>!0),r=e1("ok-ast-card-config",{lang:"cn",partySort:R,redraw:!0,astrodyne:!0,queueTimes:3}),V=_1(""),r1=[{label:"中文",value:"cn"},{label:"日文",value:"ja"},{label:"英文",value:"en"}],s1=[{label:"近战",value:"melee"},{label:"远程",value:"range"}],[B,F]=I1(!1),d1={骑:[1,19],僧:[2,20],战:[3,21],龙:[4,22],诗:[5,23],白:[6,24],黑:[7,25],召:[26,27],学:[28],忍:[29,30],机:[31],暗:[32],占:[33],武:[34],侍:[34],赤:[35],青:[36],绝:[37],枪:[37],舞:[38],钐:[39],镰:[39],贤:[40]},J=w1(()=>{const t=r.value.partySort.split(""),e=[];for(let o=0;o<t.length;o++)e.push(...d1[t[o]]);return e}),i1={cn:"出卡",en:"Play",ja:"プレイ"},p1={cn:"抽卡",en:"Draw",ja:"ドロー"},W={cn:"重抽",en:"Redraw",ja:"リドロー"},O={cn:"星力",en:"Astrodyne",ja:"アストロダイン"},y={Balance:{bonus:"melee",seal:"Solar"},Bole:{bonus:"range",seal:"Solar"},Arrow:{bonus:"melee",seal:"Lunar"},Ewer:{bonus:"range",seal:"Lunar"},Spear:{bonus:"melee",seal:"Celestial"},Spire:{bonus:"range",seal:"Celestial"}},z={keyWords:[{words:["伤害降低","Damage Down","ダメージ低下"],efficacy:.5}],keyDebuffs:[{ids:[43],efficacy:.3},{ids:[44],efficacy:.1},{ids:[1882,1883,1884,1885,1886,1887],efficacy:.3}]},q={0:"NONE",1:"GLA",2:"PGL",3:"MRD",4:"LNC",5:"ARC",6:"CNJ",7:"THM",8:"CRP",9:"BSM",10:"ARM",11:"GSM",12:"LTW",13:"WVR",14:"ALC",15:"CUL",16:"MIN",17:"BTN",18:"FSH",19:"PLD",20:"MNK",21:"WAR",22:"DRG",23:"BRD",24:"WHM",25:"BLM",26:"ACN",27:"SMN",28:"SCH",29:"ROG",30:"NIN",31:"MCH",32:"DRK",33:"AST",34:"SAM",35:"RDM",36:"BLU",37:"GNB",38:"DNC",39:"RPR",40:"SGE"},I=e1("ok-ast-card-dps",{dps:[{job:"NONE",jobSrc:"",processed:!1,type:"",cdDps:Math.round(0),action:0,cycleTime:120,cycle:[1]},{job:"GLA",jobSrc:"",processed:!1,type:"melee",cdDps:Math.round(500),action:0,cycleTime:120,cycle:[1]},{job:"PGL",jobSrc:"",processed:!1,type:"melee",cdDps:Math.round(1e3),action:0,cycleTime:120,cycle:[1]},{job:"MRD",jobSrc:"",processed:!1,type:"melee",cdDps:Math.round(500),action:0,cycleTime:120,cycle:[1]},{job:"LNC",jobSrc:"",processed:!1,type:"melee",cdDps:Math.round(750),action:0,cycleTime:120,cycle:[1]},{job:"ARC",jobSrc:"",processed:!1,type:"range",cdDps:Math.round(750),action:0,cycleTime:120,cycle:[1]},{job:"CNJ",jobSrc:"",processed:!1,type:"range",cdDps:Math.round(500),action:0,cycleTime:120,cycle:[1]},{job:"THM",jobSrc:"",processed:!1,type:"range",cdDps:Math.round(500),action:0,cycleTime:120,cycle:[1]},{job:"CRP",jobSrc:"",processed:!1,type:"melee",cdDps:Math.round(0),action:0,cycleTime:120,cycle:[1]},{job:"BSM",jobSrc:"",processed:!1,type:"melee",cdDps:Math.round(0),action:0,cycleTime:120,cycle:[1]},{job:"ARM",jobSrc:"",processed:!1,type:"melee",cdDps:Math.round(0),action:0,cycleTime:120,cycle:[1]},{job:"GSM",jobSrc:"",processed:!1,type:"melee",cdDps:Math.round(0),action:0,cycleTime:120,cycle:[1]},{job:"LTW",jobSrc:"",processed:!1,type:"melee",cdDps:Math.round(0),action:0,cycleTime:120,cycle:[1]},{job:"WVR",jobSrc:"",processed:!1,type:"melee",cdDps:Math.round(0),action:0,cycleTime:120,cycle:[1]},{job:"ALC",jobSrc:"",processed:!1,type:"melee",cdDps:Math.round(0),action:0,cycleTime:120,cycle:[1]},{job:"CUL",jobSrc:"",processed:!1,type:"melee",cdDps:Math.round(0),action:0,cycleTime:120,cycle:[1]},{job:"MIN",jobSrc:"",processed:!1,type:"melee",cdDps:Math.round(0),action:0,cycleTime:120,cycle:[1]},{job:"BTN",jobSrc:"",processed:!1,type:"melee",cdDps:Math.round(0),action:0,cycleTime:120,cycle:[1]},{job:"FSH",jobSrc:"",processed:!1,type:"melee",cdDps:Math.round(0),action:0,cycleTime:120,cycle:[1]},{job:"PLD",jobSrc:"",processed:!1,type:"melee",cdDps:Math.round(6473.8-889),action:0,cycleTime:120,cycle:[1]},{job:"MNK",jobSrc:"",processed:!1,type:"melee",cdDps:Math.round(17253.1-5349.2),action:7396,cycleTime:120,cycle:[4860.9,5591.2,5591.2,11218.3,11218.3,14731.5,17718.5,16253.5,17012.4,14287.8,18833.3,18102.9,21381.3,15754.1,27495.1,24573,22274.1,22274.1,22116.1,25156.8,23726.2,25135,24000.2,24511.7,12770.7,12179.8,11491.7,12825.1,12957.6,9245.5,8977.2,8100.4,5956.9,6955.9,7500.2,7948.1,7948.1,8590.7,7857.4,7857.4,5998.3,5466.3,7139.4,5628.8,5492.8,6569,7026.4,5050.4,5462.9,8042.2,7054.7,7054.7,6646,6646,8786.9,7262.8,9379.9,10790.6,11070.5,8491.1,8491.1,8879.6,8240.6,8240.6,6097.9,6570,5659.9,4249.1,3556.7,7225.6,7681.8,7293.3,6668,8723.9,8317.4,7845.2,6665.6,9537.5,9537.5,5868.6,5412.4,7284.6,8140,6084.1,7712.9,7712.9,7648.5,4776.6,5287.3,6962,7458.6,5586.3,6581.9,6581.9,5786.8,5786.8,5366.5,5366.5,6174.3,4499.6,4474.2,6944.4,5093.4,5594.6,4761,6470,6888.8,7371.7,6053.2,8810.3,8339.2,6439.5,6954.3,8781,8781,7537.4,10650.2,10167.4,10589.8,7832.7,11193.9,10623.4,13289.6,10961.6,14065,13599.7,10068,10068,10234.9,11026.8,7665.6,8243.2,5527.8,7958.8,4855.4,6647.8,7124,7623.2,7033.9,8081.4,8081.4,8225.3,7759.8,5843.7,8622.7,7385,6908.8,9094,9094,8425.7,8425.7,10951.1,10951.1,10851.7,8072.7,8052.7,10664.8,7980.4,8384.7,9178.2,9178.2,6399.7,7158.1,6742.6,6742.6,7512.1,7364.2,7781,10387.2,8422.4,8801.5,10059.1,9300.7,10277.3,10277.3,11340.8,8876.6,8872.2,5861.7,7150.9,9237.2,8022.8,8022.8,9149.6,9149.6,7244.6,9343.3,8931,9340.7,8051.5,6075.9,8995.2,9408.4,7305,7824.2,8761.3,7146.8,7555.9,7776.8,7776.8,8336,4905.1,4491.9,7054.7,6535.5,5135.6,7012.7,7205.6,6575.1,7042,8516.6,8895.4,8895.4,8926.1,8926.1,12963.3,10601.9,9999.9,11369.9,11376.3,8852.8,8899.6,8899.6,7185.4,7830.9,3793.7,3793.7,5462.7,5073.4,4600,7802.6,7376.9,8034.3,7155.1,6940.8,9099.2,9099.2,7430.3,6449.6,6449.6,3247]},{job:"WAR",jobSrc:"",processed:!1,type:"melee",cdDps:Math.round(9088.4-1012.1),action:7389,cycleTime:60,cycle:[5940.3,5940.3,5940.3,6408.4,6408.4,6408.4,18330.2,14903.9,14903.9,14903.9,12389.9,12389.9,12389.9,11921.8,21810.5,22282.3,10360.5,10360.5,10360.5,10360.5,10360.5,10360.5,10360.5,10360.5,8197.4,7725.6,7725.6,10022.4,10022.4,10022.4,10022.4,10022.4,10022.4,10022.4,10116.8,10116.8,10116.8,7820.1,7820.1,7820.1,7820.1,10227.2,10227.2,12812.5,4992.4,4992.4,4992.4,4992.4,4992.4,4992.4,4992.4,2585.2,2585.2,6070.7,6070.7,7303.9,7303.9,7303.9,7303.9,7303.9,7303.9,7303.9,7303.9,1233.2,1233.2,0,9040.5,9040.5,10326.9,10326.9,10326.9,10326.9,10326.9,20887,20887,20887,11846.6,11846.6,10560.1,10560.1,10560.1,10560.1,12914.9,2354.7,12570.8,12570.8,12570.8,12570.8,12570.8,12570.8,12570.8,12570.8,12435.9,12435.9,2219.9,4414.2,4414.2,4414.2,11808.5,11808.5,11808.5,11808.5,12793.3,12793.3,12793.3,10599,10599,10599,3204.6,5410.1,5410.1,5410.1,2205.5,2205.5,2205.5,2205.5,10165.6,10165.6,13176.6,10971.1,10971.1,15206,17360.3,17360.3,17360.3,17360.3,9400.2,9400.2,6389.2,6389.2,6389.2,8074.6,5920.3,5920.3,5920.3,5920.3,8067.8,8067.8,8067.8,8067.8,8067.8,2147.5,2147.5,2147.5,2147.5,10788.2,8640.7,8640.7,8640.7,9855.9,9855.9,15432.9,15432.9,15432.9,15432.9,6792.2,6792.2,6792.2,6792.2,5577,9547,3970.1,3970.1,5145.6,5145.6,5145.6,5145.6,5145.6,5145.6,5145.6,1175.6,4437,4437,3261.4,3261.4,3261.4,3261.4,4406.6,4406.6,4406.6,4406.6,1145.2,1145.2,1145.2,8991.6,8991.6,8991.6,7846.5,7846.5,7846.5,14016.4,14016.4,14016.4,14016.4,6170,6170,6170,6170,6170,6170,5805.8,5805.8,5805.8,5805.8,7030.6,7030.6,7030.6,7030.6,7030.6,7030.6,1224.8,1224.8,1224.8,1224.8,7972.5,7972.5,7972.5,10019.6,10019.6,10019.6,15568.5,15568.5,22823.6,22823.6,14851.1,14851.1,14851.1,12804.1,12804.1,16957.8,11408.8,12590.8,5335.7,5335.7,8436.7,8436.7,8436.7,8436.7,8436.7,4283,4283]},{job:"DRG",jobSrc:"",processed:!1,type:"melee",cdDps:Math.round(11110.9-1631.5),action:3557,cycleTime:120,cycle:[7046.6,11642.1,11642.1,11642.1,14509,18215.5,16722.2,16722.2,13932.7,12953.2,12953.2,12696.3,12696.3,12696.3,9829.4,11647.6,11647.6,12647.1,10862.9,10862.9,12884.6,8546,9154.5,9601,9601,4076.2,7868.7,6869.1,7322.3,7677.1,7997.6,7997.6,7389.2,11341.7,11813.1,12235.2,8442.7,8442.7,10089.7,10196.5,9869.2,10155.8,10155.8,5756.8,5285.4,5289.6,6742.8,7036.5,4936.3,4474.8,2459.8,5901.7,7993,8314.6,8314.6,7888.3,9451.8,10453.2,10453.2,12393,12393,8664.5,8517.7,8196.1,8196.1,8464.6,7998.7,6703.6,7115.1,5175.2,5175.2,7050,5105.5,5519.5,5519.5,5251,5934.5,6212.2,5800.6,6451.3,6451.3,6863.3,6863.3,6449.3,6767.7,9382.9,6148.7,5871,7152.3,6501.6,6948.2,7840.2,7840.2,7840.2,7521.8,4906.6,8049.2,8049.2,6767.9,6767.9,6321.3,5646.2,6588.4,6588.4,6588.4,6588.4,3445.8,5819.4,6155.4,6155.4,6155.4,3651.8,4235.1,4713.8,7254,7254,7254,8977.8,8641.8,10813.2,13071.4,13071.4,13229.7,12751,11796.1,11796.1,12071.9,10871.2,10871.2,8699.9,10290.2,10290.2,10483.9,10483.9,10678.1,10678.1,10851.6,7954.8,8220.2,9573.9,10182.5,10182.5,10434.4,10434.4,8972.7,8972.7,8523.6,8962.4,10230.2,8876.5,4725.1,4725.1,2595.8,5788.9,5471,5471,5803.1,5364.2,5221.3,5658.7,5352.9,8157.3,8428,5234.9,5903.1,7324.3,6992.2,6992.2,5922.1,8020.1,8463.8,5659.4,5388.7,5388.7,6587.4,7092.7,7531.7,7531.7,7211.5,7158.4,8061.7,8896.5,10166.7,10166.7,9688.9,7762.4,7323.3,10476.6,10476.6,7994.4,6647.4,7073.7,5803.5,6247.2,6366.4,6366.4,6366.4,3213.1,3630.5,5352.3,5352.3,4091.2,4091.2,3647.5,4730.1,4974.7,4974.7,4974.7,4557.3,5526.6,5960.1,6217.6,6217.6,6217.6,3626.7,5595.9,5595.9,5828.7,5828.7,8039.9,7606.3,7763.4,7763.4,8025.7,9722.7,7508.9,7508.9,7696.7,7696.7,5149,5149,4734.4,5241.5,4979.2,5045.7,5332.3,5332.3,4911.7,4911.7,2557.2,2557.2]},{job:"BRD",jobSrc:"",processed:!1,type:"range",cdDps:Math.round(8746.1-540.4),action:118,cycleTime:120,cycle:[18294.5,18817.5,18817.5,20943.1,20943.1,22079.9,22079.9,22222.5,10434.5,7000.4,7000.4,7440.4,7440.4,7939,7939,7276.7,8356,7806.9,12550.9,12157,12666.1,12179.8,12179.8,11863.2,11863.2,11388.7,10950.7,10950.7,6251.8,6251.8,5742.7,5265.9,5883.9,5180.7,7769.9,7769.9,7128.6,7128.6,5270.8,7730.1,8216.4,8216.4,7598.4,5994,7469.5,7469.5,7858.8,7858.8,7399.6,8353.4,7867.1,8329.1,9491.8,9491.8,8567.9,8567.9,8178.6,8531.7,9120.9,6907.2,6907.2,6445.2,5282.5,5667.8,6169.2,6639.9,6639.9,6286.8,5697.7,6971.1,7465.6,7465.6,7465.6,7080.4,6478.9,6395.5,6921.2,7506.8,7506.8,6252.6,5758.1,6752.5,7705.8,7705.8,7134.5,6747.2,7203.4,6617.7,7743,8371.1,8371.1,7376.7,7014.3,7014.3,8163.2,8163.2,7181.4,7181.4,6056.1,4209.3,9507.1,9507.1,8916.2,9448.4,5830,7519.4,8400.8,8400.8,9037.4,9037.4,4910.1,5499.1,6227.8,5695.6,5695.6,5529.2,4647.7,4647.7,4300.4,4685.1,5055.8,4466.9,4507.9,4507.9,7946.9,8754.8,8754.8,8754.8,8465.5,8080.8,7736.8,8471.3,8160.4,8160.4,4721.5,3651.9,4731.6,5402.7,5402.7,5402.7,6150.8,5416.2,4957.4,5635.2,5635.2,5606.9,4527.3,3856.2,4566.3,6391.2,4445.9,5027.9,5027.9,4708.7,6593.1,5678.7,5678.7,5678.7,6211.8,4972,4972,4668.9,5932.6,5574,4053.3,3734.7,3734.7,7009.2,5765.9,5662.3,5662.3,7787.3,6523.6,6845,6853.7,9198.4,9198.4,5923.9,5923.9,8137.6,8137.6,5733.6,5733.6,5412.2,6583.8,5272,5272,5272,6753.1,4058,5275.6,6112.4,6112.4,6112.4,4568.5,3921.8,5394.4,6822.8,5341.7,5341.7,4868.1,5494.2,5494.2,5816.3,5816.3,6679.9,5591.6,4163.2,4163.2,5640.3,4896.2,3814.1,3814.1,4972.2,4972.2,4065.3,4232.5,4232.5,6527.8,5050.8,5050.8,5913.4,7919,6438.9,6438.9,6095.9,6968.2,7408.9,7107,7107,7107,8832.8,7591.5,7591.5,11385.8,11385.8,9961.9,9521.3,7527.9,7527.9,7527.9]},{job:"WHM",jobSrc:"",processed:!1,type:"range",cdDps:Math.round(6427.1-232.3),action:0,cycleTime:120,cycle:[1]},{job:"BLM",jobSrc:"",processed:!1,type:"range",cdDps:Math.round(9281.5-1420.3),action:3573,cycleTime:120,cycle:[8721.9,8721.9,8721.9,16525.7,16525.7,16873,22222.6,22222.6,13803.7,13500.7,18951.9,19272.1,19272.1,11468.3,19861.5,19514.2,14164.6,14447.1,14447.1,14447.1,11217.2,10897.1,10897.1,11252.2,2859,2859,2859,8053.6,8053.6,8335.8,6114.6,6114.6,10301.8,9946.6,9946.6,10282.2,10282.2,8973.3,8973.3,8691.2,8691.2,8691.2,8939.4,8939.4,11962.3,11626.8,11626.8,7777.3,15191.6,15191.6,15191.6,15191.6,10756.2,11105.3,8082.3,8082.3,8082.3,7763.4,349.1,671.1,2843.4,2843.4,2843.4,2494.3,2494.3,6604.1,6604.1,6604.1,6604.1,6282.1,8065.4,8393.4,8393.4,8393.4,8393.4,4283.6,8054.8,8356.4,8356.4,8356.4,4400.9,10160.1,10160.1,10160.1,10505.7,10505.7,10926.4,16083.8,16083.8,16083.8,16443.4,10356.1,15979.9,15979.9,15634.3,15634.3,11771.7,6312.7,6312.7,6312.7,5953.1,5953.1,646,646,2356.7,5912.8,5583.6,5583.6,5948.2,5948.2,5948.2,5948.2,5631.5,5631.5,7936.2,4380,4380,4380,4015.4,7903.9,8186,8186,8186,8186,4170.6,8994.2,9293.5,9293.5,9293.5,11896.6,11614.4,16629.4,16972.8,16972.8,16972.8,12149.3,16046.2,16046.2,16334.3,9842.7,9842.7,7525.3,7181.8,7181.8,7495.7,7495.7,3299.4,3299.4,5398.2,5398.2,5700.2,3002.7,3002.7,6772.9,6459,6459,6786.9,6786.9,10402.4,10402.4,10100.4,10100.4,14315.8,10545.5,10545.5,10545.5,10217.7,10217.7,4531.4,4531.4,8616.8,8616.8,9699.6,9699.6,10060,10060,10060,15572.2,15256.1,15256.1,11170.7,11451.7,6153.6,6153.6,5793.2,5793.2,5793.2,546.4,2014.1,2014.1,2014.1,1733.1,1733.1,2044.4,7713.6,7713.6,7713.6,7448.2,5980.5,10159.9,10159.9,10159.9,10159.9,9848.6,4179.3,10354.1,10354.1,10354.1,10354.1,6174.8,10044.9,10044.9,10044.9,10044.9,10044.9,9000.4,9000.4,12759.7,12759.7,12759.7,8889.7,13972.1,13972.1,14256.7,14256.7,9126.4,14177.7,10418.4,10418.4,10714.5,10714.5,5632.1,5632.1,5347.5,5347.5,5658.7,607.4,607.4,607.4,311.3,311.3]},{job:"ACN",jobSrc:"",processed:!1,type:"range",cdDps:Math.round(500),action:0,cycleTime:120,cycle:[1]},{job:"SMN",jobSrc:"",processed:!1,type:"range",cdDps:Math.round(12618.8-2244.3),action:25801,cycleTime:120,cycle:[26651.9,27720.4,30841.2,30841.2,30841.2,35209.5,36959,26711.2,19078.3,19078.3,17064.7,15996.2,12875.4,12875.4,12919.6,8551.3,6801.8,4541.4,4469.5,4469.5,3184.6,3255.3,13265.3,13265.3,13221.1,15392.1,15392.1,17065.5,17065.5,17065.5,16744.9,16674.2,7867.3,7867.3,7924.4,7956,7956,7265.4,7265.4,7265.4,4481.4,4481.4,3278.3,3278.3,3221.2,6813.1,11373.3,10390.4,10708.2,10708.2,10672.5,10672.5,12760.6,12788.9,13090,9989.6,5429.4,5429.4,6498.5,6525.4,6836.3,8161.6,6073.4,6045.2,5744.1,3050.1,3277.1,3277.1,1890.2,1863.3,1552.4,3434.9,3615.7,3615.7,7083,7083,6855.9,6855.9,6855.9,6855.9,9610.6,8873,8692.2,8692.2,5224.9,5224.9,7781.6,7781.6,7816.4,7816.4,5061.7,2591.4,2591.4,4827.5,4827.5,4827.5,4920.5,4920.5,4885.7,4885.7,4885.7,4885.7,4914.6,3805.8,3805.8,3805.8,1156.2,4257.2,4257.2,4956.6,4956.6,4956.6,9113.6,7986.3,21298.4,21346.3,21346.3,21660.1,22606,21906.6,21906.6,22638.9,25043.9,25043.9,11731.7,11683.8,12429.5,14643.2,13757.1,13757.1,13757.1,13024.7,10650,10650,10679.7,10679.7,9934,4305.7,4245.9,4245.9,4273.1,6174.7,1958.5,9433.2,9403.5,9403.5,11345.6,11379.6,12813.8,12813.8,12786.5,12811.8,12811.8,5365.1,6255.3,6255.3,6710.2,6676.3,6155.1,6155.1,6182.9,4256.2,4256.2,4228.1,3337.9,3337.9,4226.9,4226.9,6656.9,6656.9,6629,6629,6629,6629,6629,6629,5936.5,5963.9,5146.7,5146.7,5146.7,5146.7,7678.4,7712.5,7712.5,7712.5,5119,5091.6,2565.8,2565.8,2592.9,2592.9,61.2,3356.3,3356.3,3356.3,3356.3,3356.3,6152.6,8935.8,9186.1,9215,10556.7,7227.4,7227.4,8979,9207.3,9207.3,7807.5,5024.3,4746.9,4718,3556.3,3556.3,5760.7,4009.1,3807.9,6379.1,5164.1,5164.1,5164.1,5164.1,5020.9,5020.9,3094.5,3094.5,3067.4,5731.2,5549.8,10379.1,10379.1,10379.1,12902.3,12902.3,15821.2,15854.3,15854.3,10619.3,10619.3,5790,5790]},{job:"SCH",jobSrc:"",processed:!1,type:"range",cdDps:Math.round(6373.8-982.4),action:0,cycleTime:120,cycle:[1]},{job:"ROG",jobSrc:"",processed:!1,type:"melee",cdDps:Math.round(1e3),action:0,cycleTime:120,cycle:[1]},{job:"NIN",jobSrc:"",processed:!1,type:"melee",cdDps:Math.round(15857.8-2623.9),action:2248,cycleTime:120,cycle:[19874,19874,19874,25545.7,26248,26248,31379.7,31379.7,23668.3,23154.2,23416.1,27864.3,27864.3,28681,27978.7,28806.1,26404.4,26404.4,18898.7,27056.4,22651.6,18203.5,18203.5,15410.5,15410.5,14583.1,16232.5,16232.5,16631.2,8473.5,9732,9732,10347.8,6652.4,6652.4,8554.8,4175.4,6608.2,6209.5,7979.6,6721,7151.5,6535.8,7744.5,7744.5,6431.5,6431.5,3998.7,6992.1,5222.1,5592.3,5161.8,7593.2,6384.5,6969.3,6380,7957,7957,4963.5,5524.8,6714.5,6714.5,4283.1,4718.9,4134,6047.3,4470.4,4840.6,4840.6,4279.3,2719.3,2719.3,3060.1,6443.8,6443.8,5518.7,5879.4,5509.2,5509.2,7047.8,7047.8,7474.6,7133.8,3314.3,5193.1,4657.2,6117.5,6117.5,7660.6,6486.3,6486.3,6059.6,8361.1,8361.1,6932.6,6480.3,4659.2,7782.2,6676.4,6312,6312,7868.6,5567.1,6278.5,5828.2,8820.9,8820.9,6059.6,5622.4,5622.4,9171.7,8396.8,11325.1,10613.7,10613.7,7621,11177,10815.3,10815.3,10815.3,11139.7,13748,12825.6,12825.6,12825.6,13191.6,18241.2,18241.2,19261.3,20794.5,16920.7,13530.7,11524.9,11884.2,11884.2,13983.1,5377.5,8438.4,7882.5,6349.3,6349.3,8928.8,10011.7,11460.7,11460.7,8995.8,9954.2,7242.1,6777.9,6777.9,9125.1,6900.5,5817.7,4009.3,4009.3,6302.3,5344,4995.1,4995.1,4995.1,3090.9,8978.1,8978.1,8978.1,12559.3,10266.3,10266.3,10266.3,11222.2,11906,11462.9,5220.9,6689.7,7056.1,3474.9,3474.9,3474.9,5380.9,4985.1,4301.3,4301.3,5246.1,4216.6,3850.2,3850.2,5372.4,5835.7,3929.7,3369.6,5332.9,5332.9,6597.5,6158.3,7376.9,7376.9,6283.4,5820.1,5820.1,7232.2,5268.9,5610.3,3400.8,3400.8,2182.2,2528.4,2099.7,5032.1,5032.1,7349.1,7349.1,7007.7,7007.7,7007.7,8556.4,8210.2,8210.2,5277.8,8357.9,4628.7,4628.7,4628.7,6525.9,6989.3,5440.6,5440.6,6964.1,7332.9,4252.9,4252.9,4252.9,4740.3,2843.2,5721.9,5721.9,9953.8,11993.7,11624.9,11624.9,11624.9,11624.9,11137.5]},{job:"MCH",jobSrc:"",processed:!1,type:"range",cdDps:Math.round(9613.5-472.2),action:7414,cycleTime:120,cycle:[6755.2,7700.5,8459.3,8459.3,8459.3,13149.1,14331.4,14331.4,14331.4,15223.2,9483.7,8538.4,7779.6,7779.6,8901.2,4550.4,4513.6,6008.2,6008.2,5503,6684.6,8399.6,8399.6,10241.5,9119.9,9504.3,10099.9,15590,15590,17548.7,15699.6,15157.9,16071.2,14229.2,16336.4,16796.3,15055.4,9763.9,9763.9,7070.5,11527.7,10354.5,9780.8,9780.8,9196.2,8012.8,8012.8,6657,6657,8355.1,3897.8,3897.8,4206.9,4769.8,7274,7899.4,7899.4,7561.8,8573.6,8018.8,8018.8,8914.4,8265.8,7702.9,6291,5665.6,5665.6,5665.6,7162.2,8313.8,8313.8,7418.2,7418.2,7418.2,7416.6,11277.3,11277.3,11277.3,8769,6474.1,13079.8,13079.8,13079.8,13079.8,12164.2,8618.5,8618.5,8618.5,8618.5,9647.8,3366,4146.8,5229.3,6076.7,4379,5303.2,5780.2,6610.9,7613.3,6584.1,6928.6,7889.8,6807.2,6762.8,6762.8,7356.3,7950.3,7119.5,6117.1,6117.1,8451.7,6709.7,7112.1,6309.2,6309.2,5542.8,4471.9,5076.3,5076.3,5076.3,7843.9,7843.9,7834.7,7834.7,7834.7,10748.9,11730.9,11126.5,11608.9,11608.9,8333.9,9380.5,8987.3,9902.8,9902.8,8357.5,7989.3,7989.3,7915,8851.5,7722.5,6675.8,7440,6524.6,6847.7,7338.3,8746.1,8746.1,8338.1,7730.9,8733.5,8733.5,10752.3,10752.3,10924,7997.9,9051.6,9051.6,9051.6,8722.3,6998.1,10039,7255.9,7255.9,6761.2,8340.5,5265.2,5265.2,5265.2,5265.2,6198.1,3571.9,3571.9,3571.9,3571.9,4354.9,4674.8,4674.8,4674.8,4674.8,4706.5,5386,5386,6677,7519.8,5157.4,5911.8,6916.4,6916.4,7901.6,6957.9,5863.7,7208.5,6538.8,5696.1,6734.9,6473.3,5799.4,5799.4,4814.3,4148.4,9114.7,7770,7475.1,7475.1,8282.6,7469.9,7139.2,7520,7520,9399.4,4433.1,4433.1,4522.6,4522.6,4791,5421,5421,5819.3,6152.4,6157.8,6157.8,6157.8,5741.7,6144.8,7700.3,7070.3,7070.3,6291.2,6374.5,5898.8,5898.8,5898.8,5898.8,5495.7,2151.4,2151.4,2151.4,2151.4,1735,325.9]},{job:"DRK",jobSrc:"",processed:!1,type:"melee",cdDps:Math.round(16319-4782.3),action:7390,cycleTime:60,cycle:[414.4,414.4,4700.2,4700.2,9087.2,9087.2,14932.9,14932.9,14518.5,14518.5,14518.5,14518.5,14444.5,14444.5,14950.6,14950.6,9609,15645.2,16373.6,16373.6,16373.6,23195.6,18983.8,24047.6,25856.6,25856.6,25352.5,19316.3,19278.2,24577.3,26028.6,21923.4,21923.4,16859.6,13896,13896,13896,13896,13205.7,8579.9,9182.4,10286.6,10286.6,10286.6,8481.5,8481.5,8481.5,8481.5,8481.5,10705.3,14779.8,11375.5,11375.5,12309.3,10375.9,10375.9,10375.9,10375.9,10375.9,12478.1,6349.8,5933.1,5933.1,4999.3,4999.3,5768.2,5768.2,5768.2,8408.7,6046.8,6046.8,6046.8,6046.8,6046.8,6046.8,5277.9,6009.8,6009.8,6176.3,3538.9,3538.9,6709.9,6709.9,6709.9,6709.9,6709.9,5978,5978,4094.6,8054.6,8054.6,4883.6,10765.1,10765.1,10765.1,10765.1,10765.1,12943.3,12019.7,8059.7,8753.9,10329.9,4448.4,4448.4,4448.4,4448.4,4448.4,5281.4,5281.4,5281.4,4587.3,3011.2,3662.5,3662.5,3662.5,3662.5,3662.5,3305.2,3305.2,3305.2,3305.2,3305.2,2653.9,3749.5,3749.5,3749.5,5066.2,2412.3,2412.3,2412.3,2412.3,2412.3,2412.3,1316.7,1316.7,2188.4,3187.9,3187.9,3187.9,3187.9,3187.9,3187.9,3187.9,3187.9,3187.9,2316.3,2521.7,3193.8,3193.8,3193.8,3193.8,3193.8,3193.8,3193.8,3193.8,3193.8,4496,3823.8,4924.1,4924.1,4924.1,4924.1,4924.1,4924.1,4924.1,6936.2,3112.3,3112.3,7638.6,7638.6,8726.7,8726.7,8726.7,8726.7,8726.7,10726.6,10726.6,10726.6,5100,5100,4011.9,4011.9,4707.3,4707.3,7143.2,3131.2,3131.2,3131.2,3131.2,3131.2,3131.2,3131.2,2435.9,2435.9,3487,3487,3487,3487,3487,3487,3487,3487,3487,5521.5,2034.5,3162.3,3162.3,3162.3,3162.3,3162.3,3162.3,3162.3,3162.3,3793.1,3793.1,2665.3,4475.5,5804.8,5804.8,5804.8,5804.8,5804.8,5804.8,3139.5,3139.5,9038.8,7228.6,5899.3,5899.3,6603.3,6603.3,6603.3,6603.3,6603.3,6603.3,4273.6,4273.6,4273.6,4273.6,3569.6,3569.6]},{job:"AST",jobSrc:"",processed:!1,type:"range",cdDps:Math.round(6064.9-847.3),action:0,cycleTime:120,cycle:[1]},{job:"SAM",jobSrc:"",processed:!1,type:"melee",cdDps:Math.round(11887.4-2460.4),action:16482,cycleTime:120,cycle:[22993.7,22993.7,23664.2,23664.2,27328,27328,27328,19438,13865.1,5379.1,7422.8,7422.8,6752.3,6752.3,18148.6,22879.5,37039.6,35994.9,35994.9,36854.2,34810.4,36463.3,36463.3,38663.4,24042,19311.1,6682,6682,7219.6,6929.4,9004.5,7351.7,7351.7,5874.6,7997.4,7997.4,6466.4,6466.4,6856.5,6287.4,10099.3,10099.3,10099.3,17747.8,18002.7,18002.7,18338.1,21548.6,20620.8,21148.7,15261.8,16170.3,16633.2,8261.6,5961.5,5961.5,7466.6,5641.3,6814.7,6286.8,7214.7,6306.2,5843.3,6234.7,6098.1,7569.5,5729,4343.9,3700.2,5680.5,5178.6,5178.6,5671.4,5280.1,4900.2,8572.2,9024.9,9913,9383.3,7918.8,7492.7,7492.7,8814.4,9217.6,9217.6,4074.3,5480.9,4592.8,5700.3,5184.5,6120.5,6120.5,4306.1,4307.9,4706.5,7034.1,5174.8,5846,4738.4,6541.9,6046.4,6046.4,6444.6,7294.5,6895.9,4568.3,4959.8,4705.3,6189.2,5798.1,5357.6,5785.7,6816.3,5561.3,5561.3,5561.3,5169.8,4753.2,9564.3,11143.6,11143.6,17731.6,16741.2,16741.2,17121.7,18934.7,18934.7,19810.7,13515.6,10524,10524,6666.4,8657.4,9081.1,9644.7,7831.7,7831.7,7249.7,9600.7,9600.7,9600.7,6442.1,4012.7,6579.9,5635.8,5635.8,5635.8,8152.1,5801.1,6128.6,6128.6,6128.6,6128.6,11257.5,12078.8,14323.8,14323.8,11513.5,11906.5,11579,12530.9,12806.5,12806.5,5087.9,4266.7,3439.2,3439.2,3722,3972.1,4899.8,3947.9,3672.3,4300,6454.1,6454.1,5036.6,5036.6,5177.8,6875.1,6307.6,6307.6,6307.6,5679.9,9321.1,9726.1,10040.3,10916.3,14047.6,12340.6,11980.4,11980.4,13661.3,13661.3,8085.9,7680.8,11260.6,11769.5,8491.7,8677.6,10641.3,10641.3,8960.5,9479.7,9177.6,9177.6,11727.5,10342.5,10065,11141.4,9985.2,9985.2,9985.2,10595.9,10685,10685,4580.8,6740.9,6740.9,5235.6,4428.1,6353.7,6642.6,5512.6,5528.4,5528.4,6692.3,6306,6991.7,6921.8,8433,6507.4,6218.5,6896.1,8049.7,8332.9,6829.4,5055.6,4369.9,4049.5,2538.3,2538.3]},{job:"RDM",jobSrc:"",processed:!1,type:"range",cdDps:Math.round(13964.8-2367.1),action:7520,cycleTime:120,cycle:[10865.9,10865.9,10865.9,10865.9,19878.9,19878.9,19878.9,19888.8,19499.3,16636,16630.6,16630.6,22656.4,22656.4,13652.3,13652.3,13652.3,13642.4,6034.7,6034.7,10853.4,10853.4,8025.1,8025.1,8025.3,8025.3,8025.3,8025.3,8025.3,8025.3,7570.1,7570.1,7357.9,7357.9,7353.6,7353.6,7353.6,10334.1,10334.1,13131.9,8768.4,8768.4,5783.1,5783.1,5778.2,7821.4,7821.4,7183.4,7183.4,4385.7,4385.7,4385.7,4385.7,4385.7,4385.7,5364.4,5364.4,5951.8,5951.8,5951.8,5951.8,5951.8,5951.8,5951.8,5951.8,5332.3,5332.3,4814.2,4814.2,9331.9,10462.9,10462.9,12675.6,13663.9,13669.3,13655,13655,11243.1,17420.1,12902.4,11771.5,11776.5,9563.8,8575.5,12408.6,10020.6,10020.6,10020.6,3854.9,3854.9,10639.3,10634.3,10634.3,10634.3,11264.9,11272.6,11272.6,11272.6,11261.3,11261.3,4476.9,6429.9,6429.9,10040,5570.8,5571.4,5571.4,5571.4,5571.4,5571.4,5571.4,6153.4,6153.4,4745.5,4745.5,4742.5,4742.5,4742.5,4742.5,4742.5,4742.5,4702,4702,5268.2,5268.2,5269.6,5269.6,5269.6,8290.1,8290.1,8290.1,5795.6,5795.6,3027.2,3027.2,3029.4,5718,5718,7514.3,7514.3,11196.8,11196.8,14064.5,14064.5,14064.5,14061.9,13345.3,13345.3,11488.1,12328,9819.9,9819.9,6952.2,6952.2,6952.2,6945.9,8181.6,8181.6,7364.4,6524.5,5350.1,5350.1,5350.1,7683.1,7683.1,7683.1,4475.5,4475.5,2333,2333,2333,4289.9,4289.9,4241.4,4241.4,4241.4,4241.4,4241.4,4241.4,4241.4,4241.4,4261.6,4261.6,4241.6,4241.6,4241.6,4241.6,4241.6,4241.6,4241.6,4241.6,4355.2,4355.2,4329.1,4329.1,8924.6,8924.6,8924.6,8924.6,8924.6,8924.6,10098.2,10098.2,10197.5,10197.5,5601.9,5601.9,5601.9,7904.3,7904.3,7909.3,7663.1,7663.1,5325.4,5325.4,5325.4,7842.4,7842.4,7763,8816.7,8817.7,5799.6,5799.6,7497.4,7497.4,7497.4,6837,6841.8,4619,6353.3,6347.2,6347.2,6347.2,4649.5,4656.2,11361.6,9505,9500.1,9500.1,6712.1,6712.1]},{job:"BLU",jobSrc:"",processed:!1,type:"range",cdDps:Math.round(5e3),action:0,cycleTime:120,cycle:[1]},{job:"GNB",jobSrc:"",processed:!1,type:"melee",cdDps:Math.round(9817.3-1609.3),action:16138,cycleTime:60,cycle:[13748,13748,13748,18101.5,18101.5,18101.5,18101.5,18101.5,14941.4,9529.1,9529.1,9529.1,9529.1,5175.5,5907.2,9238.7,9238.7,9238.7,10786,8215.4,8215.4,8215.4,8215.4,8215.4,7483.7,4865.6,6361.8,6361.8,3417.3,2209.5,2209.5,3454.9,3454.9,3454.9,3454.9,2741.5,3966.1,4562,4562,4562,4562,3316.7,3316.7,3316.7,3989.7,3989.7,1268.9,673,4523.7,4523.7,4523.7,4523.7,4523.7,4523.7,6630.2,7276.8,8516.2,8516.2,4665.5,5272.2,5272.2,5272.2,5272.2,5272.2,4021.6,3375,2135.6,2702,2702,2095.3,2717.6,2717.6,2717.6,5273,3744,3744,3744,4388.7,4388.7,4969.4,4347.2,4347.2,5325.7,5762.7,5762.7,5762.7,7713.4,6502.4,6502.4,5921.6,5921.6,5921.6,4943.1,2681.2,2681.2,7091.9,5141.2,6887.4,6887.4,6887.4,6887.4,6887.4,6887.4,6156.9,9401.3,4990.6,4990.6,3244.4,3244.4,3244.4,3244.4,3244.4,3244.4,3244.4,0,602.3,3443.7,3443.7,3443.7,11292.1,11292.1,11292.1,13214.4,13214.4,13214.4,12612.1,9770.7,10369.8,10369.8,2521.5,2521.5,2521.5,599.1,2464.3,2464.3,2464.3,2464.3,1865.2,3045.9,3045.9,3045.9,5705.1,5705.1,3839.9,5054.5,5054.5,5054.5,5054.5,3873.9,4621.1,4621.1,1961.9,1961.9,1961.9,3027.1,3027.1,3027.1,3027.1,3027.1,2279.8,2863,4762.1,4762.1,4762.1,2482.3,2482.3,2482.3,2482.3,2482.3,2482.3,1899.2,0,2464.3,2464.3,2464.3,2464.3,2464.3,2464.3,2464.3,2464.3,5153.6,5153.6,2689.2,4517.7,4517.7,4517.7,4517.7,4517.7,4517.7,4517.7,1828.5,1828.5,1828.5,3900.6,4642.7,4642.7,4642.7,4642.7,4642.7,10762,10762,10762,10762,8358.8,7616.7,9669.7,9669.7,9669.7,9669.7,6225.6,6225.6,8328,8328,6830.7,6830.7,4777.7,4777.7,5699.1,5699.1,27567.1,27567.1,25464.6,27039.5,28340.8,28340.8,28340.8,28340.8,27419.3,28270.1,8176.7,8176.7,8176.7,9315.8,8014.5,8014.5,9346.9,9346.9,9346.9,8496.2,4046.4,4046.4]},{job:"DNC",jobSrc:"",processed:!1,type:"range",cdDps:Math.round(13490-2533.7),action:15998,cycleTime:120,cycle:[11989.9,11989.9,11989.9,11989.9,15461.4,17033.5,17789.7,23804.3,23804.3,23377.8,11814.4,11814.4,12823,18852.3,15380.9,16246.8,15490.6,13167,14932,14932,14932,19691.4,18682.9,12653.5,14727.2,14737.3,14737.3,18512.6,18687.7,18687.7,19824.8,15571.3,17708,17708,15634.3,14317,14317,7307.3,7114.8,9411.2,8274.1,7768.1,8374.6,8374.6,8824.1,7693.3,7693.3,7236.7,5489,3192.6,3623,3623,879.9,879.9,4297.9,4297.9,4962.7,4962.7,6828.9,6828.9,6398.6,6398.6,8004.6,8679.9,4812.3,4812.3,4147.6,4147.6,4243.4,4693.5,4693.5,4693.5,3087.5,4272.4,4272.4,4948.3,4948.3,4948.3,5442.2,4992.1,4992.1,4992.1,5693.4,5734.4,5734.4,5058.5,5058.5,7696.3,5693.6,5693.6,5693.6,5693.6,6865.6,4964.5,4964.5,5391.8,5391.8,2754,3836.2,3836.2,3836.2,4529.5,2656.2,4540.6,4540.6,4113.3,4113.3,6568.5,5032.9,5032.9,5032.9,4339.6,4339.6,2455.2,2907.9,2907.9,2907.9,452.7,452.7,4342.2,4791,4791,6473.2,6473.2,6020.5,6020.5,6765.6,9424.6,9424.6,5535,5086.3,5086.3,3404.1,6312.2,7514.5,7514.5,8578.2,7593.2,7593.2,8047.3,8047.3,8047.3,8047.3,6746,5543.7,6125.2,4316.4,2642.4,2642.4,4098.7,4098.7,4098.7,4535.3,4146.5,4146.5,3565.1,3565.1,7624.7,8051.8,6141.3,6141.3,6141.3,5704.7,6895.7,7349.7,7349.7,7349.7,3290.1,4754,4754,4754,5207,5207,4287.6,3833.6,3833.6,3833.6,4258.3,2367.2,2367.2,2367.2,1914.3,1914.3,868.4,4821.8,4821.8,4821.8,5891.8,5891.8,5891.8,7404.7,7404.7,7404.7,8584.6,4631.2,4631.2,5064.5,3569.9,7344.6,7344.6,5831.6,5831.6,6261.8,5828.4,5828.4,5828.4,5395,9842.4,6067.7,6736.7,6736.7,6736.7,6306.6,6738.7,6738.7,7960.6,7960.6,3513.2,5460.4,4791.4,4791.4,4791.4,5235.4,3613.1,5448.7,4226.8,4226.8,4226.8,3982.9,3982.9,3982.9,3982.9,3538.8,3538.8,2152,2152,2152,2152,448.7,448.7,448.7]},{job:"RPR",jobSrc:"",processed:!1,type:"melee",cdDps:Math.round(13939-2976),action:24405,cycleTime:120,cycle:[9203.1,9203.1,9863.7,9863.7,13318,13318,12682.3,9155.4,9776.5,4736,10265.2,10265.2,9604.6,9604.6,11279.4,12109.5,12109.5,19447.3,20520.8,26219.9,20690.7,21965.4,21965.4,27650,25304.6,24474.5,24474.5,27383.3,25688.8,20988.7,20988.7,19714,26870.3,21185.7,18402,18402,24429.4,14182.8,14182.8,13183.7,13183.7,13183.7,8279.8,8279.8,8279.8,8279.8,4884.6,4884.6,5421.3,5421.3,5421.3,8782.4,6530,6530,6530,9378.6,6746.4,6746.4,6209.7,6209.7,7660.3,4912.7,4912.7,4912.7,4912.7,2064.1,5968,5968,6453.5,6453.5,7238.5,6625,8641.2,8641.2,9416.5,12094.9,8191.1,8191.1,7705.6,7705.6,6085.1,6085.1,8967.5,8967.5,8192.3,5513.8,8130.6,8616.7,8616.7,8616.7,8001.6,8001.6,4610.3,5097.4,5097.4,6558.6,3941.8,3455.7,3455.7,3455.7,4412.3,7312.3,5804.8,5317.8,5317.8,3856.6,6681.4,6681.4,6681.4,6681.4,7282.8,4382.7,4881.6,4881.6,4881.6,4881.6,4001.2,4001.2,6602.6,7083.9,10393.6,10393.6,9894.8,9894.8,9894.8,15661.7,13717.3,13717.3,11115.8,10634.6,5766.9,7946.9,8407.3,8407.3,8407.3,2640.3,6299.3,6299.3,6917.2,6917.2,6917.2,4737.2,8643.6,8643.6,9244.4,13372.6,9713.7,9713.7,9095.8,9095.8,10609.2,11082.1,6715.3,6715.3,6114.6,1986.3,4390.1,4853.5,4853.5,4853.5,5531.4,5058.5,6985.4,6985.4,7587.9,10081.9,7678.1,7214.8,7214.8,7214.8,7010.3,7010.3,5083.4,5083.4,4480.9,1986.9,4960.8,7012.7,7012.7,7012.7,8354.8,8354.8,8354.8,8807.4,8807.4,8807.4,7738.9,5687,5687,6295.1,6426.7,6426.7,6426.7,5974.2,5974.2,7898.9,6749.6,6749.6,6749.6,6141.5,2680.8,4666.4,5141.5,5141.5,5141.5,6847,6090.9,6090.9,6833.4,6833.4,8719,6733.5,6258.4,6258.4,6258.4,6246.6,6246.6,6246.6,5504.1,5504.1,8300,8754.5,8754.5,8754.5,8754.5,5136.1,5136.1,6688.2,7411.4,7411.4,5642.1,5187.5,5187.5,9210.3,9832,9832,9832,8279.8,7556.6,7556.6,4644.4]},{job:"SGE",jobSrc:"",processed:!1,type:"range",cdDps:Math.round(6877.5-474.5),action:0,cycleTime:120,cycle:[1]}].sort((t,e)=>$.indexOf(e.job)-$.indexOf(t.job))}),T={status:/^.{14} Status(?<type>Add|Remove) 1[AE]:(?<statusID>[^:]*):(?<statusName>[^:]*):[^:]*:[^:]*:[^:]*:(?<targetID>[^:]+):/,chat:/^.{14} ChatLog 00:00(?:10|38):[^:]*:\/card/,action:/^.{14} (?:AOE)?ActionEffect 1[56]:(?<casterID>1.{7}):[^:]+:(?<actionID>[^:]*):[^:]*:/,drawCard:/^.{14} ActionEffect 15:(?<casterID>1.{7}):[^:]+:E06:/,updateHp:/^.{14} UpdateHp 27:(?<targetID>[^:]+):[^:]+:(?<currentHP>\d+):/,death:/^.{14} Death 19:(?<targetID>[^:]+):/,director:/^.{14} Director 21:.{8}:4000000F/,territory:/^.{14} Territory 01:/};let a,w=null,P="AST",m={heldCard:"None",arcanums:[]},K=0,L=!1;function Q(){var t;return r.value.redraw&&(((t=a.partyStatus[0])==null?void 0:t.has(2713))??!1)}function u1(){var t,e,o;switch(m.arcanums.length){case 1:return m.arcanums.includes((t=y==null?void 0:y[m.heldCard])==null?void 0:t.seal);case 2:{const d=y==null?void 0:y[m.heldCard];return d&&m.arcanums.includes((e=y==null?void 0:y[m.heldCard])==null?void 0:e.seal)&&(A("melee").max>A("range").max*1.25&&d.bonus==="range"||A("range").max>A("melee").max*1.25&&d.bonus==="melee")?!1:m.arcanums.includes((o=y==null?void 0:y[m.heldCard])==null?void 0:o.seal)}default:return!1}}function X(){return r.value.astrodyne&&m.arcanums.length===3&&(new Date().getTime()-K)/1e3>14}const y1=()=>{var t;return(t=a.partyStatus[0])==null?void 0:t.has(1878)};function C(){var t;return(t=w==null?void 0:w.toString(16))==null?void 0:t.toUpperCase()}function m1(){for(const t of I.value.dps)if(t.jobSrc===""&&(t.jobSrc=z1(G.jobToJobEnum(t.job))),!t.processed){let e=0;const o=[],d=Math.ceil(t.cycle.length/24);for(;e<t.cycle.length;)o.push(t.cycle.slice(e,e+=d).reduce((i,l)=>i+l,0)/d+t.cdDps);t.cycle=[];const f=o.reduce((i,l)=>i+l,0);for(let i=0;i<o.length;i++)t.cycle[i]=Number.parseFloat((o[i]/(f/o.length)).toFixed(2));t.processed=!0}a={party:[],partyID:[],partyName:[],partyJob:[],partySync:[],partyDps:[],partyStatus:[new Map],partyType:null,partyIsDead:[]}}function Y(){a.partyDps=a.party.length>0?a.party.map(t=>t.job).map(t=>{var e;return((e=I.value.dps.find(o=>o.job===q[t]))==null?void 0:e.cdDps)??0}):[0],a.partySync=a.party.length>0?a.party.map(()=>null):[null],a.partyStatus=a.party.length>0?a.party.map(()=>new Map):[new Map],a.partyIsDead=a.party.length>0?a.party.map(()=>!1):[!1]}function v(t){const e=[];for(let o=0;o<r.value.queueTimes;o++)e.push({c:"DoTextCommand",p:`/ac ${t}`,d:o&&50});n1({call:"PostNamazu",c:"DoQueueActions",p:JSON.stringify(e)})}function A(t){var f,i;const e=[];for(let l=0;l<a.party.length;l++){let n=a.partyDps[l];if(a.partySync[l]){const S=(new Date().getTime()-a.partySync[l])/1e3,h=a.jobDetail[l],D=[...h.cycle,...h.cycle];D.slice(Math.round(S%h.cycleTime/h.cycleTime*h.cycle.length),Math.round(15/(h.cycleTime/h.cycle.length))),n=n*(D.reduce((g,H)=>g+H)/D.length)}m&&t!==a.jobDetail[l].type&&(n=.2*n);const _=a.partyStatus[l];for(const S of _){const h=((f=z.keyWords.find(g=>g.words.includes(S[1])))==null?void 0:f.efficacy)??1,D=((i=z.keyDebuffs.find(g=>g.ids.includes(S[0])))==null?void 0:i.efficacy)??1;n=n*D*h}e.push(n)}const o=e.reduce((l,n,_)=>n>e[l]?_:l,0),d=e.reduce((l,n)=>l>n?l:n,0);return{index:o,max:d,res:e}}function f1(t){var e,o,d,f;if(P==="AST")for(const i of t.detail.logs){let l;if(l=i.match(T.status)){if(l.groups.type==="Add"){const n=l.groups.targetID===C()?0:a.partyID.indexOf(l.groups.targetID);n>-1&&a.partyStatus[n].set(Number.parseInt(l.groups.statusID,16),l.groups.statusName)}else if(l.groups.type==="Remove"){const n=l.groups.targetID===C()?0:a.partyID.indexOf(l.groups.targetID);n>-1&&a.partyStatus[n].delete(Number.parseInt(l.groups.statusID,16))}}else if(T.chat.test(i))m.heldCard==="None"?y1()&&X()?v(O[r.value.lang]):v(p1[r.value.lang]):u1()&&Q()?v(W[r.value.lang]):L?X()?v(O[r.value.lang]):v(`${i1[r.value.lang]} <${(a.party.length>1?A((e=y==null?void 0:y[m==null?void 0:m.heldCard])==null?void 0:e.bonus).index:0)+1}>`):Q()?v(W[r.value.lang]):L?v(O[r.value.lang]):n1({call:"PostNamazu",c:"DoTextCommand",p:"/e 没进战斗，发个锤子<se.11>"});else if(T.director.test(i)||T.territory.test(i))Y();else if(l=i.match(T.action)){const n=l.groups.targetID===C()?0:a.partyID.indexOf(l.groups.casterID);n>-1&&(((f=(d=(o=a.jobDetail)==null?void 0:o[n])==null?void 0:d.action)==null?void 0:f.toString(16).toUpperCase())===l.groups.actionID&&(a.partySync[n]=new Date().getTime()),n===0&&l.groups.actionID===25870 .toString(16).toUpperCase()&&(K=new Date().getTime()))}else if(l=i.match(T.updateHp)){const n=l.groups.targetID===C()?0:a.partyID.indexOf(l.groups.targetID);n>-1&&(a.partyIsDead[n]=Number(l.groups.currentHP)===0)}else if(l=i.match(T.death)){const n=l.groups.targetID===C()?0:a.partyID.indexOf(l.groups.targetID);n>-1&&(a.partyIsDead[n]=!0)}}}function b1(t){P=t.detail.job,w=t.detail.id,t.detail.job==="AST"&&(m=t.detail.jobDetail)}function g1(t){new Promise(e=>{(function o(){if(w!==null||t.party.length===0)return e(void 0);setTimeout(o,500)})()}).then(()=>{a.party=t.party.filter(e=>e.inParty).sort((e,o)=>e.id===C()?-1:o.id===C()?1:e.job===o.job?Number.parseInt(e.id,16)-Number.parseInt(o.id,16):J.value.indexOf(e.job)-J.value.indexOf(o.job)),a.partyID=a.party.map(e=>e.id),a.partyName=a.party.map(e=>e.name),a.partyJob=a.party.map(e=>e.job),a.jobDetail=a.party.map(e=>e.job).map(e=>I.value.dps.find(o=>o.job===q[e])??{}),Y()})}function h1(t){var e,o;if(!(P!=="AST"||t.isActive==="false"||Number(t.Encounter.DURATION)<30))for(let d=0;d<a.party.length;d++){const f=((o=(e=t.Combatant)==null?void 0:e[d===0?"YOU":a.partyName[d]])==null?void 0:o.ENCDPS)??0;a.partyDps[d]=Number.isNaN(f)?0:Number(f)}}function D1(t){L=t.detail.inGameCombat}function j1(){U()}function S1(t){r.value.partySort=t.toString().replace(new RegExp(`[^${R}]`,"g"),""),U()}function U(){r.value.partySort.length===0&&(r.value.partySort=R),r.value.partySort=r.value.partySort.split("").filter((t,e,o)=>o.indexOf(t)===e).join(""),V.value="",Array.from(R).forEach(t=>{r.value.partySort.includes(t)||(V.value+=t)})}function T1(){c1.confirm("确定要使表格内填写的DPS数据全部恢复默认值吗？","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{localStorage.removeItem("ok-ast-card-dps"),location.reload()}).catch(()=>{})}function C1(t){c1.prompt("请输入一个数字数组以逗号分隔","编辑周期",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/([\d.]+,)*[\d.]+$/,inputErrorMessage:"验证未通过/([\\d.]+,)*[\\d.]+$/",inputValue:t.cycle}).then(({value:e})=>{const o=I.value.dps.find(d=>d.job===t.job);o&&(o.cycle=e.replace(/[^\d,]/,"").split(",").map(d=>Number(d)))}).catch(()=>{})}function Z(t){navigator.clipboard.writeText(t).catch(()=>{const e=document.createElement("input");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}),E1.success("已复制到剪贴板")}return m1(),U(),E("onPlayerChangedEvent",b1),E("onLogEvent",f1),E("PartyChanged",g1),E("CombatData",h1),E("onInCombatChangedEvent",D1),(t,e)=>{const o=W1,d=R1,f=V1,i=B1,l=k1,n=O1,_=P1,S=L1,h=U1,D=H1,g=G1,H=$1,v1=F1,M1=J1;return M(),x(M1,{shadow:"never"},{default:p(()=>[s(h,{model:u(r),"label-width":"120px","label-position":"left"},{default:p(()=>[s(f,{label:"客户端语言"},{default:p(()=>[s(d,{modelValue:u(r).lang,"onUpdate:modelValue":e[0]||(e[0]=c=>u(r).lang=c)},{default:p(()=>[(M(),t1(o1,null,a1(r1,c=>s(o,{key:c.value,label:c.label,value:c.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),s(n,{placement:"bottom-end",title:"注意",width:200,trigger:"hover",content:"必须与游戏内小队排序保持一致"},{reference:p(()=>[s(f,{label:"小队排序",style:{width:"30rem"}},{default:p(()=>[s(i,{modelValue:u(r).partySort,"onUpdate:modelValue":e[1]||(e[1]=c=>u(r).partySort=c),modelModifiers:{trim:!0},clearable:"",placeholder:R,onBlur:j1,onInput:S1},null,8,["modelValue"]),A1(s(l,{closable:!1,title:`缺少职业：${u(V)}`,type:"error","show-icon":""},null,8,["title"]),[[x1,u(V).length>0]])]),_:1})]),_:1}),s(f,{label:"接管能力技"},{default:p(()=>[b(" 重抽 "),s(_,{modelValue:u(r).redraw,"onUpdate:modelValue":e[2]||(e[2]=c=>u(r).redraw=c)},null,8,["modelValue"]),b(" 星力 "),s(_,{modelValue:u(r).astrodyne,"onUpdate:modelValue":e[3]||(e[3]=c=>u(r).astrodyne=c)},null,8,["modelValue"])]),_:1}),s(f,{label:"每次调用/ac次数"},{default:p(()=>[s(S,{modelValue:u(r).queueTimes,"onUpdate:modelValue":e[4]||(e[4]=c=>u(r).queueTimes=c),min:0,max:10,step:1,"step-strictly":!0,size:"small"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),u(B)?(M(),x(H,{key:0,data:u(I).dps,style:{width:"100%"},height:"433","m-b-3":"",border:""},{default:p(()=>[s(D,{label:"职业",width:"110"},{default:p(c=>[N("img",{loading:"lazy",src:c.row.jobSrc,alt:c.row.job,srcset:"",style:{height:"1.25rem"}},null,8,q1),b(" "+l1(u(G).nameToFullName(c.row.job).cn),1)]),_:1}),s(D,{label:"近/远",width:"100"},{default:p(c=>[s(d,{modelValue:c.row.type,"onUpdate:modelValue":j=>c.row.type=j,placeholder:"无"},{default:p(()=>[(M(),t1(o1,null,a1(s1,j=>s(o,{key:j.value,label:j.label,value:j.value},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),s(D,{label:"循环标志ID",width:"110"},{default:p(c=>[s(S,{modelValue:c.row.action,"onUpdate:modelValue":j=>c.row.action=j,min:0,max:1e5,step:1,"step-strictly":!0,controls:!1,style:{width:"5rem"}},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),s(D,{label:"循环周期",width:"110"},{default:p(c=>[s(S,{modelValue:c.row.cycleTime,"onUpdate:modelValue":j=>c.row.cycleTime=j,min:0,max:600,step:.5,"step-strictly":!0,controls:!1,style:{width:"5rem"}},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),s(D,{label:"周期曲线"},{default:p(c=>[s(g,{onClick:j=>C1(c.row)},{default:p(()=>[b(" 编辑 ")]),_:2},1032,["onClick"]),b(" "+l1(c.row.cycle),1)]),_:1})]),_:1},8,["data"])):k("",!0),u(B)?k("",!0):(M(),x(g,{key:1,type:"primary",onClick:e[5]||(e[5]=c=>u(F)())},{default:p(()=>[b(" 展开详细DPS设置 ")]),_:1})),u(B)?(M(),x(g,{key:2,type:"primary",onClick:e[6]||(e[6]=c=>u(F)())},{default:p(()=>[b(" 收起 ")]),_:1})):k("",!0),u(B)?(M(),x(g,{key:3,type:"warning",onClick:T1},{default:p(()=>[b(" 恢复默认 ")]),_:1})):k("",!0),s(v1),N("div",null,[K1,N("p",null,[b(" 选择一个宏进行控制 "),s(g,{type:"info",bg:"",plain:"",onClick:e[7]||(e[7]=c=>Z("/e /card"))},{default:p(()=>[b(" 默语 ")]),_:1}),s(g,{type:"success",plain:"",bg:"",onClick:e[8]||(e[8]=c=>Z("/l1 /card"))},{default:p(()=>[b(" 本地通讯贝1 ")]),_:1}),b("（使用本地通讯贝1可以把它放到不常用的聊天窗口分类中以避免刷屏） ")]),Q1,X1])]),_:1})}}});export{o4 as default};
